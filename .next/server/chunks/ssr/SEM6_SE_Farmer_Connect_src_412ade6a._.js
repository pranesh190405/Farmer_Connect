module.exports=[90758,a=>{a.v({button:"Button-module__Ld164q__button",fullWidth:"Button-module__Ld164q__fullWidth",hiddenText:"Button-module__Ld164q__hiddenText",lg:"Button-module__Ld164q__lg",loading:"Button-module__Ld164q__loading",md:"Button-module__Ld164q__md",outline:"Button-module__Ld164q__outline",primary:"Button-module__Ld164q__primary",secondary:"Button-module__Ld164q__secondary",sm:"Button-module__Ld164q__sm",spin:"Button-module__Ld164q__spin",spinner:"Button-module__Ld164q__spinner"})},22142,72395,a=>{"use strict";var b=a.i(14793),c=a.i(90758);function d({children:a,variant:d="primary",size:e="lg",isLoading:f=!1,disabled:g=!1,fullWidth:h=!1,type:i="button",onClick:j,ariaLabel:k,className:l="",...m}){let n=[c.default.button,c.default[d],c.default[e],h?c.default.fullWidth:"",f?c.default.loading:"",l].filter(Boolean).join(" ");return(0,b.jsxs)("button",{type:i,className:n,disabled:g||f,onClick:j,"aria-label":k,"aria-busy":f,...m,children:[f?(0,b.jsx)("span",{className:c.default.spinner,"aria-hidden":"true"}):null,(0,b.jsx)("span",{className:f?c.default.hiddenText:"",children:a})]})}a.s(["default",()=>d],72395),a.s([],22142)},59973,a=>{a.v({disabled:"Input-module__5rI_1a__disabled",error:"Input-module__5rI_1a__error",hasError:"Input-module__5rI_1a__hasError",hint:"Input-module__5rI_1a__hint",input:"Input-module__5rI_1a__input",inputWrapper:"Input-module__5rI_1a__inputWrapper",label:"Input-module__5rI_1a__label",prefix:"Input-module__5rI_1a__prefix",required:"Input-module__5rI_1a__required",suffix:"Input-module__5rI_1a__suffix",wrapper:"Input-module__5rI_1a__wrapper"})},59096,82728,a=>{"use strict";var b=a.i(14793),c=a.i(29507),d=a.i(59973);let e=(0,c.forwardRef)(function({label:a,error:e,hint:f,prefix:g,suffix:h,id:i,type:j="text",disabled:k=!1,required:l=!1,className:m="",...n},o){let p=(0,c.useId)(),q=i||`input-${p}`,r=e?`${q}-error`:void 0,s=f?`${q}-hint`:void 0;return(0,b.jsxs)("div",{className:`${d.default.wrapper} ${m}`,children:[a&&(0,b.jsxs)("label",{htmlFor:q,className:d.default.label,children:[a,l&&(0,b.jsx)("span",{className:d.default.required,"aria-hidden":"true",children:" *"})]}),(0,b.jsxs)("div",{className:`${d.default.inputWrapper} ${e?d.default.hasError:""} ${k?d.default.disabled:""}`,children:[g&&(0,b.jsx)("span",{className:d.default.prefix,"aria-hidden":"true",children:g}),(0,b.jsx)("input",{ref:o,id:q,type:j,disabled:k,required:l,"aria-invalid":e?"true":"false","aria-describedby":[r,s].filter(Boolean).join(" ")||void 0,className:d.default.input,...n}),h&&(0,b.jsx)("span",{className:d.default.suffix,children:h})]}),e&&(0,b.jsx)("p",{id:r,className:d.default.error,role:"alert",children:e}),f&&!e&&(0,b.jsx)("p",{id:s,className:d.default.hint,children:f})]})});a.s(["default",0,e],82728),a.s([],59096)},18801,a=>{a.v({error:"OTPInput-module__mqNHnG__error",filled:"OTPInput-module__mqNHnG__filled",hasError:"OTPInput-module__mqNHnG__hasError",input:"OTPInput-module__mqNHnG__input",inputGroup:"OTPInput-module__mqNHnG__inputGroup",wrapper:"OTPInput-module__mqNHnG__wrapper"})},10434,42172,a=>{"use strict";var b=a.i(14793),c=a.i(29507),d=a.i(18801);function e({length:a=6,onComplete:e,onChange:f,error:g,disabled:h=!1}){let[i,j]=(0,c.useState)(Array(a).fill("")),k=(0,c.useRef)([]);(0,c.useEffect)(()=>{k.current[0]&&k.current[0].focus()},[]),(0,c.useEffect)(()=>{let b=i.join("");f&&f(b),b.length===a&&e&&e(b)},[i,a,e,f]);let l=b=>{b.preventDefault();let c=b.clipboardData.getData("text").slice(0,a);if(!/^\d+$/.test(c))return;let d=[...i];c.split("").forEach((b,c)=>{c<a&&(d[c]=b)}),j(d);let e=Math.min(c.length,a)-1;k.current[e]?.focus()};return(0,b.jsxs)("div",{className:d.default.wrapper,children:[(0,b.jsx)("div",{className:`${d.default.inputGroup} ${g?d.default.hasError:""}`,role:"group","aria-label":"OTP input",children:i.map((c,e)=>(0,b.jsx)("input",{ref:a=>k.current[e]=a,type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:c,disabled:h,onChange:b=>((b,c)=>{let d=c.slice(-1);if(d&&!/^\d$/.test(d))return;let e=[...i];e[b]=d,j(e),d&&b<a-1&&k.current[b+1]?.focus()})(e,b.target.value),onKeyDown:b=>((b,c)=>{if("Backspace"===c.key){!i[b]&&b>0&&k.current[b-1]?.focus();let a=[...i];a[b]="",j(a)}else"ArrowLeft"===c.key&&b>0?k.current[b-1]?.focus():"ArrowRight"===c.key&&b<a-1&&k.current[b+1]?.focus()})(e,b),onPaste:l,className:`${d.default.input} ${c?d.default.filled:""}`,"aria-label":`Digit ${e+1} of ${a}`},e))}),g&&(0,b.jsx)("p",{className:d.default.error,role:"alert",children:g})]})}a.s(["default",()=>e],42172),a.s([],10434)},79869,a=>{"use strict";var b=a.i(14793),c=a.i(29507),d=a.i(15188),e=a.i(62870);a.i(46121);var f=a.i(83556),g=a.i(16080);a.i(22142);var h=a.i(72395);a.i(59096);var i=a.i(82728);a.i(10434);var j=a.i(42172),k=a.i(48235),l=a.i(78222);function m(){let{t:a}=(0,f.useTranslation)("common"),m=(0,d.useRouter)(),n=(0,e.useDispatch)(),{isAuthenticated:o,user:p,error:q,isLoading:r}=(0,e.useSelector)(a=>a.auth),[s,t]=(0,c.useState)("farmer"),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("mobile");(0,c.useEffect)(()=>{o&&p&&("farmer"===p.type?m.push("/farmer/dashboard"):"buyer"===p.type?m.push("/buyer/dashboard"):"admin"===p.type&&m.push("/admin/dashboard"))},[o,p,m]),(0,c.useEffect)(()=>{q&&(0,k.showToast)(q,"error")},[q]);let A=async a=>{if(a.preventDefault(),10!==u.length)return void(0,k.showToast)("Enter valid 10-digit mobile number","error");try{await n((0,g.sendOtpAsync)(u)).unwrap(),z("otp"),(0,k.showToast)("OTP sent: 123456","success")}catch(a){(0,k.showToast)(a||"Failed to send OTP","error")}},B=async a=>{if(a.preventDefault(),w.length<4)return void(0,k.showToast)("Enter valid OTP","error");try{(await n((0,g.verifyOtpAsync)({mobile:u,otp:w,userType:s})).unwrap()).isNewUser&&((0,k.showToast)("No account found. Please register first.","error"),m.push(`/${s}/register`))}catch(a){(0,k.showToast)(a||"Invalid OTP","error")}};return(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Login to continue"})]}),(0,b.jsxs)("div",{className:"flex bg-gray-100 p-1 rounded-xl mb-6",children:[(0,b.jsx)("button",{className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${"farmer"===s?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("farmer"),disabled:"otp"===y,children:"Farmer"}),(0,b.jsx)("button",{className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${"buyer"===s?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("buyer"),disabled:"otp"===y,children:"Buyer"}),(0,b.jsx)("button",{className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${"admin"===s?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,onClick:()=>t("admin"),children:"Admin"})]}),"admin"===s?(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(l.default,{href:"/admin/login",className:"text-green-600 font-medium hover:underline",children:"Go to Admin Login"})}):(0,b.jsxs)("form",{onSubmit:"mobile"===y?A:B,className:"space-y-6",children:["mobile"===y?(0,b.jsx)(i.default,{label:"Mobile Number",placeholder:"Enter 10-digit mobile number",value:u,onChange:a=>v(a.target.value.replace(/\D/g,"").slice(0,10)),type:"tel",required:!0}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Enter OTP"}),(0,b.jsx)(j.default,{length:6,value:w,onChange:x}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("button",{type:"button",onClick:()=>z("mobile"),className:"text-xs text-green-600 hover:underline",children:"Change Mobile Number"})})]}),(0,b.jsx)(h.default,{type:"submit",fullWidth:!0,isLoading:r,children:"mobile"===y?"Send OTP":"Verify & Login"}),"mobile"===y&&(0,b.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-4",children:["Don't have an account?"," ",(0,b.jsx)(l.default,{href:`/${s}/register`,className:"text-green-600 font-medium hover:underline",children:"Register here"})]})]})]})})}a.s(["default",()=>m])}];

//# sourceMappingURL=SEM6_SE_Farmer_Connect_src_412ade6a._.js.map