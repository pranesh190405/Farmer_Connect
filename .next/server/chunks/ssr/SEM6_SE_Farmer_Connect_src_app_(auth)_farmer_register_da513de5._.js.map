{"version":3,"sources":["turbopack:///[project]/SEM6/SE/Farmer_Connect/src/app/(auth)/farmer/register/page.module.css [app-ssr] (css module)","../../../../../../../SEM6/SE/Farmer_Connect/src/app/%28auth%29/farmer/register/page.jsx"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"page-module__xGAElW__active\",\n  \"backButton\": \"page-module__xGAElW__backButton\",\n  \"card\": \"page-module__xGAElW__card\",\n  \"completed\": \"page-module__xGAElW__completed\",\n  \"container\": \"page-module__xGAElW__container\",\n  \"form\": \"page-module__xGAElW__form\",\n  \"header\": \"page-module__xGAElW__header\",\n  \"icon\": \"page-module__xGAElW__icon\",\n  \"iconWrapper\": \"page-module__xGAElW__iconWrapper\",\n  \"progress\": \"page-module__xGAElW__progress\",\n  \"progressDot\": \"page-module__xGAElW__progressDot\",\n  \"progressLabel\": \"page-module__xGAElW__progressLabel\",\n  \"progressLine\": \"page-module__xGAElW__progressLine\",\n  \"progressStep\": \"page-module__xGAElW__progressStep\",\n  \"pulse\": \"page-module__xGAElW__pulse\",\n  \"resendButton\": \"page-module__xGAElW__resendButton\",\n  \"resendTimer\": \"page-module__xGAElW__resendTimer\",\n  \"resendWrapper\": \"page-module__xGAElW__resendWrapper\",\n  \"stepContent\": \"page-module__xGAElW__stepContent\",\n  \"subtitle\": \"page-module__xGAElW__subtitle\",\n  \"successIcon\": \"page-module__xGAElW__successIcon\",\n  \"title\": \"page-module__xGAElW__title\",\n});\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/navigation';\nimport {\n    sendOtpStart,\n    sendOtpSuccess,\n    sendOtpFailure,\n    verifyOtpStart,\n    verifyOtpSuccess,\n    verifyOtpFailure,\n    resetAuthFlow,\n    sendOtpAsync,\n    registerAsync,\n} from '@/store/slices/authSlice';\n\nimport Button from '@/components/ui/Button';\nimport Input from '@/components/ui/Input';\nimport OTPInput from '@/components/ui/OTPInput';\nimport styles from './page.module.css';\n\n// Registration steps\nconst STEPS = {\n    MOBILE: 'mobile',\n    OTP: 'otp',\n    AADHAR: 'aadhar',\n    CONFIRM: 'confirm',\n    PENDING: 'pending',\n};\n\nexport default function FarmerRegisterPage() {\n    const { t } = useTranslation();\n    const dispatch = useDispatch();\n    const router = useRouter();\n    const { isLoading, mobileNumber, error, isAuthenticated, user } = useSelector((state) => state.auth);\n\n    const [step, setStep] = useState(STEPS.MOBILE);\n    const [mobile, setMobile] = useState('');\n    const [mobileError, setMobileError] = useState('');\n    const [otp, setOtp] = useState('');\n    const [otpError, setOtpError] = useState('');\n    const [resendTimer, setResendTimer] = useState(0);\n    const [aadharNumber, setAadharNumber] = useState('');\n    const [aadharError, setAadharError] = useState('');\n    const [extractedData, setExtractedData] = useState({ name: '', dateOfBirth: '', address: '' });\n    const [isExtracting, setIsExtracting] = useState(false);\n\n    // Redirect if authenticated\n    useEffect(() => {\n        if (isAuthenticated && user?.status === 'APPROVED') {\n            router.push('/farmer/dashboard');\n        } else if (user?.status === 'PENDING') {\n            setStep(STEPS.PENDING);\n        }\n    }, [isAuthenticated, user, router]);\n\n    // Validate mobile number (10 digits)\n    const validateMobile = (value) => {\n        const cleaned = value.replace(/\\D/g, '');\n        if (cleaned.length !== 10) {\n            return t('auth.errors.invalidMobile');\n        }\n        return '';\n    };\n\n    // Handle mobile input change\n    const handleMobileChange = (e) => {\n        const value = e.target.value.replace(/\\D/g, '').slice(0, 10);\n        setMobile(value);\n        if (mobileError) setMobileError('');\n    };\n\n    // Handle Send OTP\n    const handleSendOtp = async () => {\n        const validationError = validateMobile(mobile);\n        if (validationError) {\n            setMobileError(validationError);\n            return;\n        }\n\n        dispatch(sendOtpStart(mobile));\n\n        try {\n            await dispatch(sendOtpAsync(mobile)).unwrap();\n            dispatch(sendOtpSuccess());\n            setStep(STEPS.OTP);\n            startResendTimer();\n        } catch (err) {\n            dispatch(sendOtpFailure(err || 'Failed to send OTP. Please try again.'));\n        }\n    };\n\n    // Start resend timer (30 seconds)\n    const startResendTimer = () => {\n        setResendTimer(30);\n        const interval = setInterval(() => {\n            setResendTimer((prev) => {\n                if (prev <= 1) {\n                    clearInterval(interval);\n                    return 0;\n                }\n                return prev - 1;\n            });\n        }, 1000);\n    };\n\n    // Handle OTP verification\n    const handleVerifyOtp = async (otpValue) => {\n        if (otpValue.length !== 6) {\n            setOtpError(t('auth.errors.invalidOtp'));\n            return;\n        }\n\n        dispatch(verifyOtpStart());\n\n        try {\n            const res = await fetch('/api/auth/verify-otp', {\n                method: 'POST',\n                credentials: 'include',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ mobile, otp: otpValue }),\n            });\n            const data = await res.json();\n\n            if (!res.ok) {\n                dispatch(verifyOtpFailure(data.error || 'Invalid OTP'));\n                setOtpError(data.error || 'Invalid OTP');\n                return;\n            }\n\n            // OTP verified - proceed to Aadhar step for registration\n            setStep(STEPS.AADHAR);\n            dispatch(sendOtpSuccess()); // Reset loading state\n\n        } catch (err) {\n            dispatch(verifyOtpFailure('Invalid OTP. Please try again.'));\n            setOtpError('Invalid OTP. Please try again.');\n        }\n    };\n\n    // Handle resend OTP\n    const handleResendOtp = () => {\n        if (resendTimer > 0) return;\n        handleSendOtp();\n    };\n\n    // Validate Aadhar number (12 digits)\n    const validateAadhar = (value) => {\n        const cleaned = value.replace(/\\D/g, '');\n        if (cleaned.length !== 12) {\n            return t('auth.errors.invalidAadhar');\n        }\n        return '';\n    };\n\n    // Handle Aadhar input\n    const handleAadharChange = (e) => {\n        const value = e.target.value.replace(/\\D/g, '').slice(0, 12);\n        setAadharNumber(value);\n        if (aadharError) setAadharError('');\n\n        // Auto-extract data when 12 digits entered\n        if (value.length === 12) {\n            extractAadharDetails(value);\n        } else {\n            setExtractedData({ name: '', dateOfBirth: '', address: '' });\n        }\n    };\n\n    // Mock Aadhar data extraction\n    const extractAadharDetails = async (aadhar) => {\n        setIsExtracting(true);\n\n        // Simulate API call\n        await new Promise(resolve => setTimeout(resolve, 1000));\n\n        // Mock extraction logic (same as in authSlice)\n        const lastFourDigits = aadhar.slice(-4);\n        const mockNames = ['Ramesh Kumar', 'Suresh Patil', 'Amit Singh', 'Priya Sharma', 'Vijay Kumar'];\n        const mockStates = ['Maharashtra', 'Punjab', 'Karnataka', 'Tamil Nadu', 'Gujarat'];\n\n        const nameIndex = parseInt(lastFourDigits.charAt(0)) % mockNames.length;\n        const stateIndex = parseInt(lastFourDigits.charAt(1)) % mockStates.length;\n        const year = 1960 + (parseInt(lastFourDigits.charAt(2)) * 5);\n        const month = (parseInt(lastFourDigits.charAt(3)) % 12) + 1;\n\n        setExtractedData({\n            name: mockNames[nameIndex],\n            dateOfBirth: `${year}-${month.toString().padStart(2, '0')}-15`,\n            address: `Village/City, District, ${mockStates[stateIndex]}`\n        });\n\n        setIsExtracting(false);\n    };\n\n    // Handle Aadhar submission\n    const handleAadharSubmit = () => {\n        const validationError = validateAadhar(aadharNumber);\n        if (validationError) {\n            setAadharError(validationError);\n            return;\n        }\n\n        if (!extractedData.name) {\n            setAadharError(t('auth.errors.aadharRequired'));\n            return;\n        }\n\n        setStep(STEPS.CONFIRM);\n    };\n\n    // Handle final registration\n    const handleConfirmRegistration = async () => {\n        console.log('üîò Submit button clicked');\n        dispatch(verifyOtpStart());\n\n        try {\n            console.log('üì§ Dispatching registerAsync with:', {\n                mobile: mobile,\n                type: 'farmer',\n                name: extractedData.name,\n                aadharNumber: aadharNumber,\n                dateOfBirth: extractedData.dateOfBirth,\n                address: extractedData.address\n            });\n\n            const result = await dispatch(registerAsync({\n                mobile: mobile,\n                type: 'farmer',\n                name: extractedData.name,\n                aadharNumber: aadharNumber,\n                dateOfBirth: extractedData.dateOfBirth,\n                address: extractedData.address\n            })).unwrap();\n\n            console.log('‚úÖ Registration successful:', result);\n            // Registration successful ‚Äî user is logged in\n            // The extraReducers handler will set isAuthenticated\n\n        } catch (err) {\n            console.error('‚ùå Registration failed:', err);\n            console.log('Error Type:', typeof err);\n            console.log('Error Value:', JSON.stringify(err));\n\n            // Handle \"User already exists\" gracefully\n            if (\n                String(err).includes('User already exists') ||\n                String(err).includes('already exists')\n            ) {\n                alert('User account already exists. Redirecting to login...');\n                dispatch(resetAuthFlow());\n                window.location.href = '/login';\n                return;\n            }\n\n            dispatch(verifyOtpFailure(err || 'Registration failed. Please try again.'));\n        }\n    };\n\n\n\n    // Handle back button\n    const handleBack = () => {\n        if (step === STEPS.CONFIRM) {\n            setStep(STEPS.AADHAR);\n        } else if (step === STEPS.AADHAR) {\n            setStep(STEPS.OTP);\n            setAadharNumber('');\n            setExtractedData({ name: '', dateOfBirth: '', address: '' });\n        } else {\n            dispatch(resetAuthFlow());\n            setStep(STEPS.MOBILE);\n            setOtp('');\n            setOtpError('');\n        }\n    };\n\n    // Render Mobile Input Step\n    const renderMobileStep = () => (\n        <div className={styles.stepContent}>\n            <div className={styles.header}>\n                <div className={styles.iconWrapper}>\n                    <span className={styles.icon} role=\"img\" aria-label=\"farmer\">üåæ</span>\n                </div>\n                <h1 className={styles.title}>{t('auth.farmer.title')}</h1>\n                <p className={styles.subtitle}>{t('auth.farmer.subtitle')}</p>\n            </div>\n\n            <div className={styles.form}>\n                <Input\n                    label={t('auth.farmer.mobileLabel')}\n                    type=\"tel\"\n                    inputMode=\"numeric\"\n                    placeholder={t('auth.farmer.mobilePlaceholder')}\n                    value={mobile}\n                    onChange={handleMobileChange}\n                    prefix=\"+91\"\n                    error={mobileError || error}\n                    required\n                    autoComplete=\"tel\"\n                />\n\n                <Button\n                    onClick={handleSendOtp}\n                    isLoading={isLoading}\n                    disabled={mobile.length !== 10}\n                    fullWidth\n                >\n                    {t('auth.farmer.sendOtp')}\n                </Button>\n            </div>\n        </div>\n    );\n\n    // Render OTP Verification Step\n    const renderOtpStep = () => (\n        <div className={styles.stepContent}>\n            {/* DEBUG OTP - Remove before production */}\n            <div className=\"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-2 rounded-md mb-4 text-sm font-mono text-center\">\n                üîî DEBUG OTP: 123456\n            </div>\n            <button\n                className={styles.backButton}\n                onClick={handleBack}\n                aria-label={t('common.back')}\n            >\n                ‚Üê {t('common.back')}\n            </button>\n\n            <div className={styles.header}>\n                <div className={styles.iconWrapper}>\n                    <span className={styles.icon} role=\"img\" aria-label=\"verification\">üîê</span>\n                </div>\n                <h1 className={styles.title}>{t('auth.farmer.otpTitle')}</h1>\n                <p className={styles.subtitle}>\n                    {t('auth.farmer.otpSubtitle')} <strong>+91 {mobileNumber}</strong>\n                </p>\n            </div>\n\n            <div className={styles.form}>\n                <OTPInput\n                    length={6}\n                    onChange={setOtp}\n                    onComplete={handleVerifyOtp}\n                    error={otpError || error}\n                    disabled={isLoading}\n                />\n\n                <Button\n                    onClick={() => handleVerifyOtp(otp)}\n                    isLoading={isLoading}\n                    disabled={otp.length !== 6}\n                    fullWidth\n                >\n                    {t('auth.farmer.verifyOtp')}\n                </Button>\n\n                <div className={styles.resendWrapper}>\n                    {resendTimer > 0 ? (\n                        <p className={styles.resendTimer}>\n                            {t('auth.farmer.resendIn')} {resendTimer} {t('auth.farmer.seconds')}\n                        </p>\n                    ) : (\n                        <button\n                            className={styles.resendButton}\n                            onClick={handleResendOtp}\n                            disabled={isLoading}\n                        >\n                            {t('auth.farmer.resendOtp')}\n                        </button>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n\n    // Render Aadhar Input Step\n    const renderAadharStep = () => (\n        <div className={styles.stepContent}>\n            <button\n                className={styles.backButton}\n                onClick={handleBack}\n                aria-label={t('common.back')}\n            >\n                ‚Üê {t('common.back')}\n            </button>\n\n            <div className={styles.header}>\n                <div className={styles.iconWrapper}>\n                    <span className={styles.icon} role=\"img\" aria-label=\"aadhar\">ü™™</span>\n                </div>\n                <h1 className={styles.title}>{t('auth.farmer.title')}</h1>\n                <p className={styles.subtitle}>Enter your Aadhar for verification</p>\n            </div>\n\n            <div className={styles.form}>\n                <Input\n                    label={t('auth.farmer.aadharLabel')}\n                    type=\"tel\"\n                    inputMode=\"numeric\"\n                    placeholder={t('auth.farmer.aadharPlaceholder')}\n                    value={aadharNumber}\n                    onChange={handleAadharChange}\n                    error={aadharError}\n                    required\n                    maxLength={12}\n                />\n\n                {isExtracting && (\n                    <div className=\"text-center py-4\">\n                        <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n                        <p className=\"text-sm text-gray-600 mt-2\">{t('auth.farmer.extractingData')}</p>\n                    </div>\n                )}\n\n                {extractedData.name && !isExtracting && (\n                    <div className=\"bg-green-50 border border-green-200 rounded-md p-4 space-y-2\">\n                        <p className=\"text-sm font-semibold text-green-800 mb-3\">\n                            {t('auth.farmer.detailsExtracted')}\n                        </p>\n                        <div className=\"space-y-2 text-sm\">\n                            <div className=\"flex justify-between\">\n                                <span className=\"text-gray-600\">{t('auth.farmer.nameLabel')}:</span>\n                                <span className=\"font-medium text-gray-900\">{extractedData.name}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <span className=\"text-gray-600\">{t('auth.farmer.dobLabel')}:</span>\n                                <span className=\"font-medium text-gray-900\">{extractedData.dateOfBirth}</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <span className=\"text-gray-600\">{t('auth.farmer.addressLabel')}:</span>\n                                <span className=\"font-medium text-gray-900 text-right max-w-xs\">{extractedData.address}</span>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                <Button\n                    onClick={handleAadharSubmit}\n                    disabled={aadharNumber.length !== 12 || !extractedData.name || isExtracting}\n                    fullWidth\n                >\n                    {t('common.next')}\n                </Button>\n            </div>\n        </div>\n    );\n\n    // Render Confirmation Step\n    const renderConfirmStep = () => (\n        <div className={styles.stepContent}>\n            <button\n                className={styles.backButton}\n                onClick={handleBack}\n                aria-label={t('common.back')}\n            >\n                ‚Üê {t('common.back')}\n            </button>\n\n            <div className={styles.header}>\n                <div className={styles.iconWrapper}>\n                    <span className={styles.icon} role=\"img\" aria-label=\"check\">‚úì</span>\n                </div>\n                <h1 className={styles.title}>{t('auth.farmer.confirmDetails')}</h1>\n                <p className={styles.subtitle}>Please review your information</p>\n            </div>\n\n            <div className={styles.form}>\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-5 space-y-4\">\n                    <div>\n                        <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Mobile Number</label>\n                        <p className=\"text-base font-semibold text-gray-900 mt-1\">+91 {mobile}</p>\n                    </div>\n                    <div>\n                        <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">{t('auth.farmer.aadharLabel')}</label>\n                        <p className=\"text-base font-semibold text-gray-900 mt-1\">{aadharNumber.replace(/(\\d{4})(\\d{4})(\\d{4})/, '$1 $2 $3')}</p>\n                    </div>\n                    <div>\n                        <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">{t('auth.farmer.nameLabel')}</label>\n                        <p className=\"text-base font-semibold text-gray-900 mt-1\">{extractedData.name}</p>\n                    </div>\n                    <div>\n                        <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">{t('auth.farmer.dobLabel')}</label>\n                        <p className=\"text-base font-semibold text-gray-900 mt-1\">{extractedData.dateOfBirth}</p>\n                    </div>\n                    <div>\n                        <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">{t('auth.farmer.addressLabel')}</label>\n                        <p className=\"text-base font-semibold text-gray-900 mt-1\">{extractedData.address}</p>\n                    </div>\n                </div>\n\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-3\">\n                    <p className=\"text-xs text-yellow-800\">\n                        {t('auth.farmer.canBrowse')}\n                    </p>\n                </div>\n\n                <Button\n                    onClick={handleConfirmRegistration}\n                    isLoading={isLoading}\n                    fullWidth\n                >\n                    {t('common.submit')}\n                </Button>\n            </div>\n        </div>\n    );\n\n    // Render Pending Approval Step\n    const renderPendingStep = () => (\n        <div className={styles.stepContent}>\n            <div className={styles.header}>\n                <div className={`${styles.iconWrapper} ${styles.pendingIcon}`}>\n                    <span className={styles.icon} role=\"img\" aria-label=\"pending\">‚è≥</span>\n                </div>\n                <h1 className={styles.title} style={{ color: '#d97706' }}>Verification Pending</h1>\n                <p className={styles.subtitle}>\n                    Your account is currently under review by the administrator.\n                </p>\n            </div>\n\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6\">\n                <p className=\"text-sm text-yellow-800 text-center\">\n                    Please wait for admin approval. You can try logging in later to check your status.\n                </p>\n            </div>\n\n            <Button\n                onClick={() => {\n                    dispatch(resetAuthFlow());\n                    setStep(STEPS.MOBILE);\n                    setMobile('');\n                    setOtp('');\n                }}\n                variant=\"outline\"\n                fullWidth\n            >\n                Back to Login\n            </Button>\n        </div>\n    );\n\n    return (\n        <main className={styles.container}>\n            <div className={styles.card}>\n                {step === STEPS.MOBILE && renderMobileStep()}\n                {step === STEPS.OTP && renderOtpStep()}\n                {step === STEPS.AADHAR && renderAadharStep()}\n                {step === STEPS.CONFIRM && renderConfirmStep()}\n                {step === STEPS.PENDING && renderPendingStep()}\n            </div>\n        </main>\n    );\n}\n\n"],"names":[],"mappings":"0BAAA,EAAA,CAAA,CAAA,CACA,OAAA,8BACA,WAAA,kCACA,KAAA,4BACA,UAAA,iCACA,UAAA,iCACA,KAAA,4BACA,OAAA,8BACA,KAAA,4BACA,YAAA,mCACA,SAAA,gCACA,YAAA,mCACA,cAAA,qCACA,aAAA,oCACA,aAAA,oCACA,MAAA,6BACA,aAAA,oCACA,YAAA,mCACA,cAAA,qCACA,YAAA,mCACA,SAAA,gCACA,YAAA,mCACA,MAAA,4BACA,0CCrBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAYA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGA,MAAM,AACM,QADE,GAGF,WACC,YACA,UAGE,SAAS,IACpB,GAAM,GAAE,CAAC,CAAE,CAAG,CAAA,EAAA,EAAA,cAAc,AAAd,IACR,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,WAAE,CAAS,cAAE,CAAY,OAAE,CAAK,iBAAE,CAAe,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,GAAU,EAAM,IAAI,EAE7F,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,GAC3B,CAAC,EAAQ,AADwB,EACd,CAAG,CAAA,EAAA,AADiB,EACjB,QAAA,AAAQ,EAAC,IAC/B,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAK,EAAO,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzB,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACzC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAE,KAAM,GAAI,YAAa,GAAI,QAAS,EAAG,GACtF,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAGjD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACF,GAAmB,GAAM,SAAW,WACpC,CADgD,CACzC,IAAI,CAAC,qBACL,GAAM,SAAW,WAAW,AACnC,IAER,EAAG,CAAC,CAFY,CAEK,EAAM,EAAO,CAFZ,CActB,IAOM,EAPA,AAOgB,AArBO,UAsBzB,IAAM,EAfiB,AAAvB,IAA2B,CADX,AAgBuB,AAfnC,EADkB,OAAO,CAAC,CAgBN,KAhBa,IACzB,MAAM,CACP,EAAE,6BAEN,GAaP,GAAI,EAAiB,YACjB,EAAe,GAInB,EAAS,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,IAEtB,GAAI,CACA,MAAM,EAAS,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,IAAS,MAAM,GAC3C,EAAS,CAAA,EAAA,EAAA,cAAA,AAAc,KACvB,QAAQ,CACR,GACJ,CAAE,CAFgB,GAAG,EAEZ,EAAK,CACV,EAAS,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,GAAO,yCACnC,CACJ,EAGM,EAAmB,KACrB,EAAe,IACf,IAAM,EAAW,YAAY,KACzB,EAAe,AAAC,GACZ,AAAI,GAAQ,GAAG,AACX,cAAc,GACP,GAEJ,EAAO,EAEtB,EAAG,IACP,EAGM,EAAkB,MAAO,IAC3B,GAAwB,IAApB,EAAS,MAAM,CAAQ,YACvB,EAAY,EAAE,2BAIlB,EAAS,CAAA,EAAA,EAAA,cAAA,AAAc,KAEvB,GAAI,CACA,IAAM,EAAM,MAAM,MAAM,uBAAwB,CAC5C,OAAQ,OACR,YAAa,UACb,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,QAAE,EAAQ,IAAK,CAAS,EACjD,GACM,EAAO,MAAM,EAAI,IAAI,GAE3B,GAAI,CAAC,EAAI,EAAE,CAAE,CACT,EAAS,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,EAAK,KAAK,EAAI,gBACxC,EAAY,EAAK,KAAK,EAAI,eAC1B,MACJ,CAGA,KACA,EAAS,CADD,AACC,EAAA,EAAA,EADK,MAAM,MACX,AAAc,IAE3B,CAAE,CAF8B,KAEvB,EAAK,CACV,EAAS,CAAA,EAAA,EAAA,OAHyC,SAGzC,AAAgB,EAAC,mCAC1B,EAAY,iCAChB,CACJ,EAgCM,EAAuB,MAAO,IAChC,GAAgB,GAGhB,MAAM,IAAI,QAAQ,GAAW,WAAW,EAAS,MAGjD,IAAM,EAAiB,EAAO,KAAK,CAAC,CAAC,GAC/B,EAAY,CAAC,eAAgB,eAAgB,aAAc,eAAgB,cAAc,CACzF,EAAa,CAAC,cAAe,SAAU,YAAa,aAAc,UAAU,CAE5E,EAAY,SAAS,EAAe,MAAM,CAAC,IAAM,EAAU,MAAM,CACjE,EAAa,SAAS,EAAe,MAAM,CAAC,IAAM,EAAW,MAAM,CACnE,EAAO,KAA6C,EAArC,SAAS,EAAe,MAAM,CAAC,IAC9C,EAAS,SAAS,EAAe,MAAM,CAAC,IAAM,GAAM,EAE1D,EAAiB,CACb,KAAM,CAAS,CAAC,EAAU,CAC1B,YAAa,CAAA,EAAG,EAAK,CAAC,EAAE,EAAM,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAK,GAAG,CAAC,CAC9D,QAAS,CAAC,wBAAwB,EAAE,CAAU,CAAC,EAAW,CAAA,CAAE,AAChE,GAEA,GAAgB,EACpB,EAmBM,EAA4B,UAC9B,QAAQ,GAAG,CAAC,4BACZ,EAAS,CAAA,EAAA,EAAA,cAAA,AAAc,KAEvB,GAAI,CACA,QAAQ,GAAG,CAAC,qCAAsC,CAC9C,OAAQ,EACR,KAAM,SACN,KAAM,EAAc,IAAI,CACxB,aAAc,EACd,YAAa,EAAc,WAAW,CACtC,QAAS,EAAc,OAAO,AAClC,GAEA,IAAM,EAAS,MAAM,EAAS,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,CACxC,OAAQ,EACR,KAAM,SACN,KAAM,EAAc,IAAI,CACxB,aAAc,EACd,YAAa,EAAc,WAAW,CACtC,QAAS,EAAc,OAAO,AAClC,IAAI,MAAM,GAEV,QAAQ,GAAG,CAAC,6BAA8B,EAI9C,CAAE,MAAO,EAAK,CAMV,GALA,QAAQ,KAAK,CAAC,yBAA0B,GACxC,QAAQ,GAAG,CAAC,cAAe,OAAO,GAClC,QAAQ,GAAG,CAAC,eAAgB,KAAK,SAAS,CAAC,IAIvC,OAAO,GAAK,QAAQ,CAAC,wBACrB,OAAO,GAAK,QAAQ,CAAC,kBACvB,CACE,MAAM,wDACN,EAAS,CAAA,EAAA,EAAA,aAAA,AAAa,KACtB,OAAO,QAAQ,CAAC,IAAI,CAAG,SACvB,MACJ,CAEA,EAAS,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,GAAO,0CACrC,CACJ,EAKM,EAAa,KACX,MACA,GADS,EAEF,GADC,CADO,GAGf,EADgB,AADF,EADQ,EAAE,EACJ,AACE,AACd,CACR,EAAgB,GAFY,AACd,CAEd,CAH8B,CACb,AAEA,CAAE,KAAM,GAAI,YAAa,GAAI,QAAS,EAAG,KAE1D,EAAS,CAAA,EAAA,EAAA,aAAa,AAAb,KACT,KACA,EAAO,CADC,GAER,EAAY,CAFE,GAItB,EA2QA,CA/Q4B,KAgRxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,SAAS,UAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACtB,OA1QT,CAAA,CA0QkB,CA1QlB,EAAA,GA0QwB,CA1QxB,EAAC,GA0Q6B,GA1Q7B,CAAI,AA0Q6B,UA1QlB,EAAA,OAAM,CAAC,WAAW,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,MAAM,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,IAAI,CAAE,KAAK,MAAM,aAAW,kBAAS,SAEjE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,EAAE,uBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAG,EAAE,6BAGtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACF,MAAO,EAAE,2BACT,KAAK,MACL,UAAU,UACV,YAAa,EAAE,iCACf,MAAO,EACP,SArOY,AAAD,CAqOD,GAnOtB,EADc,EAAE,MACN,AADY,CAAC,KAAK,CAAC,OAAO,CAAC,MAAO,IAAI,KAAK,CAAC,EAAG,KAErD,GAAa,EAAe,GACpC,EAkOgB,OAAO,MACP,MAAO,GAAe,EACtB,QAAQ,CAAA,CAAA,EACR,aAAa,QAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACH,QAAS,EACT,UAAW,EACX,SAA4B,KAAlB,EAAO,MAAM,CACvB,SAAS,CAAA,CAAA,WAER,EAAE,+BA5Rd,AA0gBQ,SAAS,EAtOlB,CAAA,EAAA,CAsOwB,CAtOxB,EAsO2B,EAtO3B,EAAC,AAsO8B,MAtO9B,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,WAE9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mHAA0G,yBAGzH,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,QAAS,EACT,aAAY,EAAE,yBACjB,KACM,EAAE,kBAGT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,MAAM,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,IAAI,CAAE,KAAK,MAAM,aAAW,wBAAe,SAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,EAAE,0BAChC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,WACxB,EAAE,2BAA2B,IAAC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,WAAO,OAAK,WAIpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAQ,CAAA,CACL,OAAQ,EACR,SAAU,EACV,WAAY,EACZ,MAAO,GAAY,EACnB,SAAU,IAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACH,QAAS,IAAM,EAAgB,GAC/B,UAAW,EACX,SAAyB,IAAf,EAAI,MAAM,CACpB,SAAS,CAAA,CAAA,WAER,EAAE,2BAGP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,aAAa,UAC/B,EAAc,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,WAAW,WAC3B,EAAE,wBAAwB,IAAE,EAAY,IAAE,EAAE,0BAGjD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,UAAW,EAAA,OAAM,CAAC,YAAY,CAC9B,QAhOA,CAgOS,IA/NzB,EAAc,GAAG,AACrB,GACJ,EA8NwB,SAAU,WAET,EAAE,mCAmLd,OAzKT,CAAA,CAyKkB,CAzKlB,EAAA,GAyKwB,CAzKxB,EAAC,GAyK6B,GAzK7B,CAAI,AAyK6B,UAzKlB,EAAA,OAAM,CAAC,WAAW,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,QAAS,EACT,aAAY,EAAE,yBACjB,KACM,EAAE,kBAGT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,MAAM,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,IAAI,CAAE,KAAK,MAAM,aAAW,kBAAS,SAEjE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,EAAE,uBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAE,0CAGnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACF,MAAO,EAAE,2BACT,KAAK,MACL,UAAU,UACV,YAAa,EAAE,iCACf,MAAO,EACP,SAtPW,AAAC,CAsPF,GArPtB,IAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,MAAO,IAAI,KAAK,CAAC,EAAG,IACzD,EAAgB,GACZ,GAAa,EAAe,IAGX,IAAI,CAArB,EAAM,MAAM,CACZ,EAAqB,GAErB,EAAiB,CAAE,KAAM,GAAI,YAAa,GAAI,QAAS,EAAG,EAElE,EA4OgB,MAAO,EACP,QAAQ,CAAA,CAAA,EACR,UAAW,KAGd,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAE,mCAIpD,EAAc,IAAI,EAAI,CAAC,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qDACR,EAAE,kCAEP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACX,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BAAiB,EAAE,yBAAyB,OAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA6B,EAAc,IAAI,MAEnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACX,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BAAiB,EAAE,wBAAwB,OAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA6B,EAAc,WAAW,MAE1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACX,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0BAAiB,EAAE,4BAA4B,OAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yDAAiD,EAAc,OAAO,YAMtG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACH,QAlPW,CAkPF,IAjPrB,IAAM,EAhDiB,AAAvB,AAAI,IAAuB,CADX,AAiDuB,EAjDjB,OAAO,CAAC,CAiDN,KAjDa,IACzB,MAAM,CACP,EAAE,6BAEN,EA8CP,CAAI,EACA,EAAe,GAId,EAAc,IAAI,CAKvB,CALyB,EALJ,EAMjB,EAAe,CAIX,CAJa,KAIP,OAAO,kBACzB,EAsOgB,SAAkC,KAAxB,EAAa,MAAM,EAAW,CAAC,EAAc,IAAI,EAAI,EAC/D,SAAS,CAAA,CAAA,WAER,EAAE,uBA0GN,OAlGT,CAAA,CAkGkB,CAlGlB,EAAA,GAkGwB,CAlGxB,EAAC,IAkG8B,EAlG9B,CAAI,CAkG8B,SAlGnB,EAAA,OAAM,CAAC,WAAW,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,QAAS,EACT,aAAY,EAAE,yBACjB,KACM,EAAE,kBAGT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,MAAM,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,IAAI,CAAE,KAAK,MAAM,aAAW,iBAAQ,QAEhE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,EAAE,gCAChC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAE,sCAGnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qEAA4D,kBAC7E,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uDAA6C,OAAK,QAEnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qEAA6D,EAAE,6BAChF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA8C,EAAa,OAAO,CAAC,wBAAyB,iBAE7G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qEAA6D,EAAE,2BAChF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA8C,EAAc,IAAI,MAEjF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qEAA6D,EAAE,0BAChF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA8C,EAAc,WAAW,MAExF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,qEAA6D,EAAE,8BAChF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA8C,EAAc,OAAO,SAIxF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mCACR,EAAE,6BAIX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACH,QAAS,EACT,UAAW,EACX,SAAS,CAAA,CAAA,WAER,EAAE,yBA+CN,OAvCT,CAAA,CAuCkB,CAvClB,EAAA,GAuCwB,CAvCxB,EAAC,IAuC8B,EAvC9B,CAAI,CAuC8B,SAvCnB,EAAA,OAAM,CAAC,WAAW,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,MAAM,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAA,EAAG,EAAA,OAAM,CAAC,WAAW,CAAC,CAAC,EAAE,EAAA,OAAM,CAAC,WAAW,CAAA,CAAE,UACzD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,IAAI,CAAE,KAAK,MAAM,aAAW,mBAAU,QAElE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,CAAE,MAAO,CAAE,MAAO,SAAU,WAAG,yBAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAE,oEAKnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,yFAKvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACH,QAAS,KACL,EAAS,CAAA,EAAA,EAAA,aAAA,AAAa,KACtB,KACA,EAAU,CADF,GAER,EAAO,CAFO,EAGlB,EACA,EAJwB,MAIhB,UACR,SAAS,CAAA,CAAA,WACZ,yBAiBb"}