module.exports=[67084,a=>{"use strict";async function b(a,c={}){let d=await fetch(a,{...c,credentials:"include",headers:{"Content-Type":"application/json",...c.headers}}),e=await d.json();if(!d.ok)throw Error(e.error||"API request failed");return e}class c{static async getMarketCrops(a={}){try{let c=new URLSearchParams;return a.search&&c.set("search",a.search),a.category&&"all"!==a.category&&c.set("category",a.category),a.region&&"all"!==a.region&&c.set("region",a.region),c.set("status","active"),(await b(`/api/listings?${c.toString()}`)).listings||[]}catch(a){return console.error("getMarketCrops error:",a),[]}}static async getFarmerListings(){try{return(await b("/api/listings/my")).listings||[]}catch(a){return console.error("getFarmerListings error:",a),[]}}static async addListing(a){try{return(await b("/api/listings",{method:"POST",body:JSON.stringify(a)})).listing}catch(a){throw console.error("addListing error:",a),a}}static async updateListing(a,c){try{return(await b(`/api/listings/${a}`,{method:"PUT",body:JSON.stringify(c)})).listing}catch(a){throw console.error("updateListing error:",a),a}}static async updateListingStatus(a,c){try{return(await b(`/api/listings/${a}/status`,{method:"PUT",body:JSON.stringify({status:c})})).listing}catch(a){throw console.error("updateListingStatus error:",a),a}}static async getListingById(a){try{return(await b(`/api/listings/${a}`)).listing}catch(a){return console.error("getListingById error:",a),null}}static async deleteListing(a){try{return await b(`/api/listings/${a}`,{method:"DELETE"}),!0}catch(a){return console.error("deleteListing error:",a),!1}}static async placeOrder(a){try{return(await b("/api/orders",{method:"POST",body:JSON.stringify(a)})).order}catch(a){throw console.error("placeOrder error:",a),a}}static async getMyOrders(){try{return(await b("/api/orders/my")).orders||[]}catch(a){return console.error("getMyOrders error:",a),[]}}static async getProfile(){try{return(await b("/api/users/profile")).profile}catch(a){return console.error("getProfile error:",a),null}}static async updateProfile(a){try{return await b("/api/users/profile",{method:"PUT",body:JSON.stringify(a)})}catch(a){throw console.error("updateProfile error:",a),a}}static async updateLocation(a){try{return await b("/api/users/location",{method:"PUT",body:JSON.stringify(a)})}catch(a){throw console.error("updateLocation error:",a),a}}static async updatePreferences(a){try{return await b("/api/users/preferences",{method:"PUT",body:JSON.stringify(a)})}catch(a){throw console.error("updatePreferences error:",a),a}}static async getAdminStats(){try{return(await b("/api/admin/stats")).stats}catch(a){return console.error("getAdminStats error:",a),null}}static async getAdminUsers(){try{return(await b("/api/admin/users")).users||[]}catch(a){return console.error("getAdminUsers error:",a),[]}}static async approveUser(a){try{return await b(`/api/admin/users/${a}/approve`,{method:"PUT"})}catch(a){throw console.error("approveUser error:",a),a}}static async rejectUser(a){try{return await b(`/api/admin/users/${a}/reject`,{method:"PUT"})}catch(a){throw console.error("rejectUser error:",a),a}}}a.s(["ApiService",()=>c])},68005,a=>{"use strict";let b=(0,a.i(67293).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],68005)},95049,a=>{"use strict";let b=(0,a.i(67293).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],95049)},39605,a=>{"use strict";let b=(0,a.i(67293).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);a.s(["ShoppingBag",()=>b],39605)},58133,a=>{"use strict";let b=(0,a.i(67293).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],58133)},10792,a=>{"use strict";var b=a.i(14793),c=a.i(29507),d=a.i(78222);a.i(46121);var e=a.i(83556),f=a.i(39605),g=a.i(68005),h=a.i(45201),i=a.i(58133);let j=(0,a.i(67293).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var k=a.i(95049),l=a.i(67084),m=a.i(48235);function n(){let{t:a}=(0,e.useTranslation)("common"),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)("active");(0,c.useEffect)(()=>{o(!0),v()},[]);let v=async()=>{try{let a=(await l.ApiService.getMyOrders()).map(a=>({id:a.id,items:a.items.map(a=>`${a.cropName} (${a.quantity}kg)`).join(", "),total:`â‚¹${a.totalAmount}`,status:"placed"===a.status?"active":a.status,date:new Date(a.createdAt).toISOString().split("T")[0],farmer:a.farmerName||"Farmer",image:a.items[0]?.image||"https://images.unsplash.com/photo-1592924357228-91a4daadcfea?auto=format&fit=crop&q=80&w=100"}));q(a)}catch(b){console.error("Failed to fetch orders:",b),m.toast.error(a("common.error")||"Failed to load orders")}finally{s(!1)}};if(!n)return null;let w=[{label:a("dashboard.buyer.stats.totalOrders"),value:p.length,icon:f.ShoppingBag,color:"bg-blue-100 text-blue-600"},{label:a("dashboard.buyer.stats.activeOrders"),value:p.filter(a=>"active"===a.status).length,icon:g.Clock,color:"bg-yellow-100 text-yellow-600"},{label:a("dashboard.buyer.stats.completed"),value:p.filter(a=>"completed"===a.status).length,icon:h.CheckCircle,color:"bg-green-100 text-green-600"}];return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24 font-sans",children:[(0,b.jsx)("header",{className:"bg-white border-b sticky top-0 z-10 px-6 py-4 shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center max-w-7xl mx-auto gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:a("dashboard.buyer.welcome")}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:a("dashboard.buyer.welcomeDesc")})]}),(0,b.jsx)("div",{className:"flex gap-3 w-full md:w-auto",children:(0,b.jsxs)(d.default,{href:"/market",className:"bg-green-600 text-white px-5 py-2.5 rounded-full font-semibold flex items-center justify-center gap-2 text-sm hover:bg-green-700 active:scale-95 transition-all shadow-md hover:shadow-lg w-full md:w-auto",children:[(0,b.jsx)(i.Search,{className:"w-4 h-4"}),a("dashboard.buyer.browseMarket")]})})]})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-8",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:w.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-5 md:p-6 shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition-shadow",children:[(0,b.jsx)("div",{className:`p-3 rounded-xl ${a.color}`,children:(0,b.jsx)(a.icon,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:a.label}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:a.value})]})]},c))}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"flex border-b border-gray-200 overflow-x-auto hide-scrollbar",children:["active","completed","cancelled"].map(c=>(0,b.jsxs)("button",{onClick:()=>u(c),className:`
                                    px-6 py-4 text-sm font-medium capitalize transition-all relative whitespace-nowrap
                                    ${t===c?"text-green-600 bg-green-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}
                                `,children:[(b=>{switch(b){case"active":return a("dashboard.buyer.tabs.active");case"completed":return a("dashboard.buyer.tabs.completed");case"cancelled":return a("dashboard.buyer.tabs.cancelled");default:return b}})(c),(0,b.jsx)("span",{className:`ml-2 text-xs py-0.5 px-2 rounded-full ${t===c?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:p.filter(a=>a.status===c).length}),t===c&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-green-600"})]},c))}),(0,b.jsx)("div",{className:"p-4 md:p-6",children:r?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-green-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-500 text-sm",children:a("common.loading")})]}):0===p.filter(a=>a.status===t).length?(0,b.jsxs)("div",{className:"text-center py-16 px-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(f.ShoppingBag,{className:"w-8 h-8 text-gray-300"})}),(0,b.jsx)("h3",{className:"text-gray-900 font-bold text-lg mb-1",children:a("dashboard.buyer.empty.title",{status:t})}),(0,b.jsx)("p",{className:"text-gray-500 text-sm max-w-sm mx-auto mb-6",children:a("dashboard.buyer.empty.desc",{status:t})}),"active"===t&&(0,b.jsxs)(d.default,{href:"/market",className:"inline-flex items-center gap-2 text-green-600 font-semibold hover:text-green-700 bg-green-50 px-4 py-2 rounded-lg transition-colors",children:[(0,b.jsx)(i.Search,{className:"w-4 h-4"}),a("dashboard.buyer.empty.startShopping")]})]}):(0,b.jsx)("div",{className:"space-y-4",children:p.filter(a=>a.status===t).map(c=>(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 hover:border-green-200 transition-all shadow-sm hover:shadow-md group",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 overflow-hidden flex-shrink-0",children:(0,b.jsx)("img",{src:c.image,alt:c.items,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-1",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 truncate",children:c.items}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a("dashboard.buyer.orderId"),c.id]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 mt-1 md:mt-0",children:(0,b.jsx)("span",{className:"text-sm font-bold text-green-700 bg-green-50 px-2 py-1 rounded-md",children:c.total})})]}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("div",{className:"w-5 h-5 rounded-full bg-gray-100 flex items-center justify-center text-[10px]",children:"ðŸ‘¨â€ðŸŒ¾"}),(0,b.jsx)("span",{className:"font-medium text-gray-700",children:c.farmer})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(j,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:c.date})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 ml-auto md:ml-0",children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${"active"===c.status?"bg-yellow-400 animate-pulse":"bg-green-500"}`}),(0,b.jsx)("span",{className:"capitalize",children:"active"===c.status?a("dashboard.buyer.inProgress"):c.status})]})]})]}),(0,b.jsx)("div",{className:"w-full md:w-auto mt-2 md:mt-0 pt-2 md:pt-0 border-t md:border-t-0 border-gray-100",children:(0,b.jsxs)("button",{className:"w-full md:w-auto flex items-center justify-center gap-1 text-sm font-medium text-gray-600 hover:text-green-600 py-2 px-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a("dashboard.buyer.trackOrder")," ",(0,b.jsx)(k.ChevronRight,{className:"w-4 h-4"})]})})]})},c.id))})})]})]})]})}a.s(["default",()=>n],10792)}];

//# sourceMappingURL=SEM6_SE_Farmer_Connect_062e0005._.js.map