(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95811,e=>{e.v({button:"Button-module__Ld164q__button",fullWidth:"Button-module__Ld164q__fullWidth",hiddenText:"Button-module__Ld164q__hiddenText",lg:"Button-module__Ld164q__lg",loading:"Button-module__Ld164q__loading",md:"Button-module__Ld164q__md",outline:"Button-module__Ld164q__outline",primary:"Button-module__Ld164q__primary",secondary:"Button-module__Ld164q__secondary",sm:"Button-module__Ld164q__sm",spin:"Button-module__Ld164q__spin",spinner:"Button-module__Ld164q__spinner"})},51224,60829,e=>{"use strict";var s=e.i(70650),r=e.i(95811);function t({children:e,variant:t="primary",size:a="lg",isLoading:l=!1,disabled:d=!1,fullWidth:i=!1,type:n="button",onClick:c,ariaLabel:o,className:m="",...x}){let h=[r.default.button,r.default[t],r.default[a],i?r.default.fullWidth:"",l?r.default.loading:"",m].filter(Boolean).join(" ");return(0,s.jsxs)("button",{type:n,className:h,disabled:d||l,onClick:c,"aria-label":o,"aria-busy":l,...x,children:[l?(0,s.jsx)("span",{className:r.default.spinner,"aria-hidden":"true"}):null,(0,s.jsx)("span",{className:l?r.default.hiddenText:"",children:e})]})}e.s(["default",()=>t],60829),e.s([],51224)},9215,e=>{"use strict";let s=(0,e.i(3070).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>s],9215)},17138,e=>{"use strict";let s=(0,e.i(3070).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],17138)},93060,e=>{"use strict";let s=(0,e.i(3070).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>s],93060)},40042,e=>{"use strict";var s=e.i(70650),r=e.i(33375),t=e.i(31169),a=e.i(86383),l=e.i(44140);e.i(64142);var d=e.i(73178),i=e.i(9215);let n=(0,e.i(3070).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var c=e.i(93060),o=e.i(37850),m=e.i(17138),x=e.i(45086),h=e.i(46733);e.i(51224);var u=e.i(60829);function g(){let{t:e}=(0,d.useTranslation)("common"),g=(0,t.useDispatch)(),f=(0,a.useRouter)(),{items:p,total:y}=(0,t.useSelector)(e=>e.cart),{user:b,isAuthenticated:j}=(0,t.useSelector)(e=>e.auth),[v,N]=(0,r.useState)(1),[w,_]=(0,r.useState)(!1),[k,C]=(0,r.useState)(b?.address||""),[q,B]=(0,r.useState)("cod"),S=b?.aadharVerified;(0,r.useEffect)(()=>{j?0===p.length&&3!==v&&f.push("/market"):f.push("/login")},[j,p,f,v]),(0,r.useEffect)(()=>{j&&!S&&(h.toast.error(e("cart.verificationRequired")||"Aadhar verification required"),f.push("/market"))},[j,S,f,e]);let T=async()=>{k.trim()?(_(!0),await new Promise(e=>setTimeout(e,2e3)),g((0,x.clearCart)()),N(3),_(!1),h.toast.success("Order placed successfully!")):h.toast.error("Please enter a delivery address")};return j&&(0!==p.length||3===v)?S?3===v?(0,s.jsx)("div",{className:"min-h-screen bg-green-50 flex flex-col items-center justify-center p-6 font-sans",children:(0,s.jsxs)("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-lg text-center max-w-lg w-full",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600 animate-bounce",children:(0,s.jsx)(o.CheckCircle,{className:"w-12 h-12"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Order Placed!"}),(0,s.jsx)("p",{className:"text-gray-500 mb-8 text-lg",children:"Thank you for supporting local farmers. Your order has been received and will be processed shortly."}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(l.default,{href:"/buyer/dashboard",children:(0,s.jsx)(u.default,{fullWidth:!0,children:"Track Order"})}),(0,s.jsx)(l.default,{href:"/market",className:"text-green-600 font-medium hover:underline py-2",children:"Continue Shopping"})]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24 font-sans",children:[(0,s.jsx)("header",{className:"bg-white border-b px-6 py-4 shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center gap-2",children:[(0,s.jsx)(l.default,{href:"/market",className:"text-gray-500 hover:text-gray-900",children:"Market"}),(0,s.jsx)(c.ChevronRight,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:"Checkout"})]})}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto p-4 md:p-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,s.jsxs)("div",{className:`bg-white rounded-2xl p-6 shadow-sm border ${1===v?"border-green-500 ring-1 ring-green-500":"border-gray-100"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${v>=1?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:"1"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Delivery Address"})]}),(0,s.jsxs)("div",{className:"pl-11",children:[(0,s.jsx)("textarea",{value:k,onChange:e=>C(e.target.value),placeholder:"Enter full delivery address...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none min-h-[100px]",disabled:1!==v}),1===v&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(u.default,{onClick:()=>{k.trim()?N(2):h.toast.error("Address is required")},children:"Continue to Payment"})})]})]}),(0,s.jsxs)("div",{className:`bg-white rounded-2xl p-6 shadow-sm border ${2===v?"border-green-500 ring-1 ring-green-500":"border-gray-100"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${v>=2?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:"2"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Method"})]}),2===v&&(0,s.jsxs)("div",{className:"pl-11 space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded-xl cursor-pointer hover:border-green-500 transition-all bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",name:"payment",value:"cod",checked:"cod"===q,onChange:e=>B(e.target.value),className:"w-5 h-5 text-green-600 focus:ring-green-500"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:(0,s.jsx)(n,{className:"w-5 h-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:"Cash on Delivery"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Pay when you receive your order"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>N(1),className:"px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-600 hover:bg-gray-50",children:"Back"}),(0,s.jsxs)(u.default,{onClick:T,isLoading:w,children:["Place Order (",y,")"]})]})]})]})]}),(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 sticky top-24",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Order Summary"}),(0,s.jsx)("div",{className:"space-y-4 mb-6 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:p.map(e=>(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-md overflow-hidden flex-shrink-0",children:(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]}),(0,s.jsx)("p",{className:"text-sm font-bold text-gray-900",children:e.price})]},e.id))}),(0,s.jsxs)("div",{className:"space-y-2 py-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsx)("span",{children:y})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"Delivery"}),(0,s.jsx)("span",{className:"text-green-600",children:"Free"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-4 border-t border-gray-100",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsx)("span",{children:y})]}),(0,s.jsxs)("div",{className:"mt-6 bg-green-50 rounded-lg p-3 flex gap-2",children:[(0,s.jsx)(i.ShieldCheck,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-xs text-green-800",children:"Safe & Secure Payment. 100% Authentic Produce."})]})]})})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm text-center max-w-md w-full",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600",children:(0,s.jsx)(m.AlertTriangle,{className:"w-8 h-8"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("cart.verificationRequired")||"Verification Required"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:e("cart.pendingVerification")||"Your account needs admin approval before you can place orders."}),(0,s.jsx)(l.default,{href:"/profile",children:(0,s.jsx)(u.default,{fullWidth:!0,children:"Check Status"})})]})}):null}e.s(["default",()=>g],40042)}]);