(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75245,e=>{"use strict";async function r(e,t={}){let a=await fetch(e,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}}),s=await a.json();if(!a.ok)throw Error(s.error||"API request failed");return s}class t{static async getMarketCrops(e={}){try{let t=new URLSearchParams;return e.search&&t.set("search",e.search),e.category&&"all"!==e.category&&t.set("category",e.category),e.region&&"all"!==e.region&&t.set("region",e.region),t.set("status","active"),(await r(`/api/listings?${t.toString()}`)).listings||[]}catch(e){return console.error("getMarketCrops error:",e),[]}}static async getFarmerListings(){try{return(await r("/api/listings/my")).listings||[]}catch(e){return console.error("getFarmerListings error:",e),[]}}static async addListing(e){try{return(await r("/api/listings",{method:"POST",body:JSON.stringify(e)})).listing}catch(e){throw console.error("addListing error:",e),e}}static async updateListing(e,t){try{return(await r(`/api/listings/${e}`,{method:"PUT",body:JSON.stringify(t)})).listing}catch(e){throw console.error("updateListing error:",e),e}}static async updateListingStatus(e,t){try{return(await r(`/api/listings/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})})).listing}catch(e){throw console.error("updateListingStatus error:",e),e}}static async getListingById(e){try{return(await r(`/api/listings/${e}`)).listing}catch(e){return console.error("getListingById error:",e),null}}static async deleteListing(e){try{return await r(`/api/listings/${e}`,{method:"DELETE"}),!0}catch(e){return console.error("deleteListing error:",e),!1}}static async placeOrder(e){try{return(await r("/api/orders",{method:"POST",body:JSON.stringify(e)})).order}catch(e){throw console.error("placeOrder error:",e),e}}static async getMyOrders(){try{return(await r("/api/orders/my")).orders||[]}catch(e){return console.error("getMyOrders error:",e),[]}}static async getProfile(){try{return(await r("/api/users/profile")).profile}catch(e){return console.error("getProfile error:",e),null}}static async updateProfile(e){try{return await r("/api/users/profile",{method:"PUT",body:JSON.stringify(e)})}catch(e){throw console.error("updateProfile error:",e),e}}static async updateLocation(e){try{return await r("/api/users/location",{method:"PUT",body:JSON.stringify(e)})}catch(e){throw console.error("updateLocation error:",e),e}}static async updatePreferences(e){try{return await r("/api/users/preferences",{method:"PUT",body:JSON.stringify(e)})}catch(e){throw console.error("updatePreferences error:",e),e}}static async getAdminStats(){try{return(await r("/api/admin/stats")).stats}catch(e){return console.error("getAdminStats error:",e),null}}static async getAdminUsers(){try{return(await r("/api/admin/users")).users||[]}catch(e){return console.error("getAdminUsers error:",e),[]}}static async approveUser(e){try{return await r(`/api/admin/users/${e}/approve`,{method:"PUT"})}catch(e){throw console.error("approveUser error:",e),e}}static async rejectUser(e){try{return await r(`/api/admin/users/${e}/reject`,{method:"PUT"})}catch(e){throw console.error("rejectUser error:",e),e}}}e.s(["ApiService",()=>t])},98630,e=>{"use strict";let r=(0,e.i(3070).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>r],98630)},66660,e=>{"use strict";let r=(0,e.i(3070).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>r],66660)},17395,25430,90199,29192,e=>{"use strict";var r=e.i(3070);let t=(0,r.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],17395);let a=(0,r.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>a],25430);let s=(0,r.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>s],90199);let i=(0,r.default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash",()=>i],29192)},81144,e=>{"use strict";var r=e.i(70650),t=e.i(33375),a=e.i(44140);e.i(64142);var s=e.i(73178),i=e.i(77474),l=e.i(17395),o=e.i(66660),c=e.i(25430),n=e.i(90199),d=e.i(29192),g=e.i(98630);let h=(0,e.i(3070).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var m=e.i(75245),u=e.i(46733);function x(){let{t:e}=(0,s.useTranslation)("common"),[x,y]=(0,t.useState)(!1),[p,b]=(0,t.useState)([]),[f,w]=(0,t.useState)(!0),[v,j]=(0,t.useState)("active");(0,t.useEffect)(()=>{y(!0),N()},[]);let N=async()=>{try{let e=await m.ApiService.getFarmerListings();b(e)}catch(r){console.error("Failed to fetch listings:",r),u.toast.error(e("common.error")||"Failed to load listings")}finally{w(!1)}},k=async r=>{confirm(e("common.confirmDelete")||"Are you sure you want to delete this listing?")&&(await m.ApiService.deleteListing(r)?(u.toast.success(e("common.deleteSuccess")||"Listing deleted successfully"),N()):u.toast.error(e("common.error")||"Failed to delete"))};if(!x)return null;let P=[{label:e("dashboard.totalSales"),value:"₹45,000",icon:g.TrendingUp,color:"bg-blue-100 text-blue-600"},{label:e("dashboard.activeListings"),value:p.filter(e=>"active"===e.status).length,icon:l.Package,color:"bg-green-100 text-green-600"},{label:e("dashboard.todaysPrice"),value:"₹12/kg",icon:h,color:"bg-yellow-100 text-yellow-600"}];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24 font-sans",children:[(0,r.jsx)("header",{className:"bg-white border-b sticky top-0 z-10 px-6 py-4 shadow-sm",children:(0,r.jsxs)("div",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e("dashboard.welcomeFarmer")}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:e("dashboard.manageCrops")})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)(a.default,{href:"/farmer/listing/batch",className:"bg-white border border-gray-200 text-gray-700 px-4 py-2.5 rounded-full font-medium flex items-center gap-2 text-sm hover:bg-gray-50 hover:border-gray-300 transition-all",children:[(0,r.jsx)(l.Package,{className:"w-4 h-4"}),"Batch Mode"]}),(0,r.jsxs)(a.default,{href:"/farmer/listing/new",className:"bg-green-600 text-white px-5 py-2.5 rounded-full font-semibold flex items-center gap-2 text-sm hover:bg-green-700 active:scale-95 transition-all shadow-md hover:shadow-lg",children:[(0,r.jsx)(i.Plus,{className:"w-5 h-5"}),e("dashboard.newListing")]})]})]})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:P.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex items-center gap-4 hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:`p-3 rounded-xl ${e.color}`,children:(0,r.jsx)(e.icon,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:e.label}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]},t))}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"flex gap-8 border-b border-gray-200",children:["active","sold","expired"].map(t=>(0,r.jsxs)("button",{onClick:()=>j(t),className:`
                                    pb-3 text-base font-medium capitalize transition-all relative
                                    ${v===t?"text-green-600":"text-gray-400 hover:text-gray-600"}
                                `,children:[e(`dashboard.status.${t}`)||t,(0,r.jsx)("span",{className:`ml-2 text-xs py-0.5 px-2 rounded-full ${v===t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:p.filter(e=>e.status===t).length}),v===t&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-green-600 rounded-t-full"})]},t))})}),f?(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-500",children:e("common.loading")})]}):0===p.filter(e=>e.status===v).length?(0,r.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-6 text-green-500",children:(0,r.jsx)(l.Package,{className:"w-10 h-10 opacity-50"})}),(0,r.jsx)("h3",{className:"text-gray-900 font-bold text-lg mb-2",children:e("dashboard.noListings")}),(0,r.jsx)("p",{className:"text-gray-500 text-sm max-w-xs mx-auto mb-6",children:e("dashboard.startSellingDescription")}),(0,r.jsxs)(a.default,{href:"/farmer/listing/new",className:"text-green-600 font-semibold hover:text-green-700 hover:underline",children:["+ ",e("dashboard.createFirstListing")]})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.filter(e=>e.status===v).map(t=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all group",children:[(0,r.jsxs)("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-green-50 to-green-100",children:[t.image?(0,r.jsx)("img",{src:t.image,alt:t.crop,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)(l.Package,{className:"w-12 h-12 text-green-300"})}),(0,r.jsx)("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-gray-900 shadow-sm",children:t.quantity})]}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-900 text-lg truncate pr-2",children:t.crop}),(0,r.jsx)("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-50",children:(0,r.jsx)(c.MoreVertical,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"flex items-baseline gap-1 mb-4",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-green-700",children:t.price})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 pt-4 border-t border-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(o.Clock,{className:"w-4 h-4"}),t.date]}),(0,r.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,r.jsx)(a.default,{href:`/farmer/listing/edit/${t.id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:e("common.edit"),children:(0,r.jsx)(n.Edit,{className:"w-4 h-4"})}),(0,r.jsx)("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:e("common.delete"),onClick:()=>k(t.id),children:(0,r.jsx)(d.Trash,{className:"w-4 h-4"})})]})]})]})]},t.id))})]})]})}e.s(["default",()=>x],81144)}]);