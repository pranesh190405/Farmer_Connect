(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75245,e=>{"use strict";async function r(e,t={}){let s=await fetch(e,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}}),a=await s.json();if(!s.ok)throw Error(a.error||"API request failed");return a}class t{static async getMarketCrops(e={}){try{let t=new URLSearchParams;return e.search&&t.set("search",e.search),e.category&&"all"!==e.category&&t.set("category",e.category),e.region&&"all"!==e.region&&t.set("region",e.region),t.set("status","active"),(await r(`/api/listings?${t.toString()}`)).listings||[]}catch(e){return console.error("getMarketCrops error:",e),[]}}static async getFarmerListings(){try{return(await r("/api/listings/my")).listings||[]}catch(e){return console.error("getFarmerListings error:",e),[]}}static async addListing(e){try{return(await r("/api/listings",{method:"POST",body:JSON.stringify(e)})).listing}catch(e){throw console.error("addListing error:",e),e}}static async updateListing(e,t){try{return(await r(`/api/listings/${e}`,{method:"PUT",body:JSON.stringify(t)})).listing}catch(e){throw console.error("updateListing error:",e),e}}static async updateListingStatus(e,t){try{return(await r(`/api/listings/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})})).listing}catch(e){throw console.error("updateListingStatus error:",e),e}}static async getListingById(e){try{return(await r(`/api/listings/${e}`)).listing}catch(e){return console.error("getListingById error:",e),null}}static async deleteListing(e){try{return await r(`/api/listings/${e}`,{method:"DELETE"}),!0}catch(e){return console.error("deleteListing error:",e),!1}}static async placeOrder(e){try{return(await r("/api/orders",{method:"POST",body:JSON.stringify(e)})).order}catch(e){throw console.error("placeOrder error:",e),e}}static async getMyOrders(){try{return(await r("/api/orders/my")).orders||[]}catch(e){return console.error("getMyOrders error:",e),[]}}static async getProfile(){try{return(await r("/api/users/profile")).profile}catch(e){return console.error("getProfile error:",e),null}}static async updateProfile(e){try{return await r("/api/users/profile",{method:"PUT",body:JSON.stringify(e)})}catch(e){throw console.error("updateProfile error:",e),e}}static async updateLocation(e){try{return await r("/api/users/location",{method:"PUT",body:JSON.stringify(e)})}catch(e){throw console.error("updateLocation error:",e),e}}static async updatePreferences(e){try{return await r("/api/users/preferences",{method:"PUT",body:JSON.stringify(e)})}catch(e){throw console.error("updatePreferences error:",e),e}}static async getAdminStats(){try{return(await r("/api/admin/stats")).stats}catch(e){return console.error("getAdminStats error:",e),null}}static async getAdminUsers(){try{return(await r("/api/admin/users")).users||[]}catch(e){return console.error("getAdminUsers error:",e),[]}}static async approveUser(e){try{return await r(`/api/admin/users/${e}/approve`,{method:"PUT"})}catch(e){throw console.error("approveUser error:",e),e}}static async rejectUser(e){try{return await r(`/api/admin/users/${e}/reject`,{method:"PUT"})}catch(e){throw console.error("rejectUser error:",e),e}}}e.s(["ApiService",()=>t])},89610,e=>{"use strict";let r=(0,e.i(3070).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],89610)},88950,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=e.r(69665);function a({reason:e,children:r}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}},54812,(e,r,t)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return s}})},15763,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return l}});let s=e.r(70650),a=e.r(96501),n=e.r(37066),i=e.r(54812),o=e.r(16633);function l({moduleIds:e}){if("u">typeof window)return null;let r=n.workAsyncStorage.getStore();if(void 0===r)return null;let t=[];if(r.reactLoadableManifest&&e){let s=r.reactLoadableManifest;for(let r of e){if(!s[r])continue;let e=s[r].files;t.push(...e)}}if(0===t.length)return null;let l=(0,o.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:t.map(e=>{let t=`${r.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}${l}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style",nonce:r.nonce},e):((0,a.preload)(t,{as:"script",fetchPriority:"low",nonce:r.nonce}),null)})})}},44023,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let s=e.r(70650),a=e.r(33375),n=e.r(88950),i=e.r(15763);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let r={...l,...e},t=(0,a.lazy)(()=>r.loader().then(o)),c=r.loading;function u(e){let o=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!r.ssr||!!r.loading,u=l?a.Suspense:a.Fragment,d=r.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(i.PreloadChunks,{moduleIds:r.modules}):null,(0,s.jsx)(t,{...e})]}):(0,s.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(t,{...e})});return(0,s.jsx)(u,{...l?{fallback:o}:{},children:d})}return u.displayName="LoadableComponent",u}},46850,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=e.r(65239)._(e.r(44023));function a(e,r){let t={};"function"==typeof e&&(t.loader=e);let a={...t,...r};return(0,s.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),r.exports=t.default)},91803,e=>{"use strict";var r=e.i(70650),t=e.i(33375),s=e.i(46850);e.i(64142);var a=e.i(73178),n=e.i(89610),i=e.i(7394),o=e.i(44140),l=e.i(75245);let c=(0,s.default)(()=>e.A(60518),{loadableGenerated:{modules:[81042]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-full w-full bg-gray-100 animate-pulse"})});function u(){let{t:e}=(0,a.useTranslation)("common"),[s,u]=(0,t.useState)([]),[d,f]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await l.ApiService.getMarketCrops();u(e)}catch(e){console.error(e)}finally{f(!1)}};return(0,r.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,r.jsxs)("header",{className:"bg-white border-b z-10 px-6 py-4 shadow-sm flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(o.default,{href:"/market",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,r.jsx)(n.ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Map View"})]}),(0,r.jsxs)(o.default,{href:"/market",className:"flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-green-600 px-4 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,r.jsx)(i.List,{className:"w-4 h-4"}),"List View"]})]}),(0,r.jsxs)("div",{className:"flex-1 bg-gray-100 relative",children:[(0,r.jsx)(c,{listings:s}),(0,r.jsxs)("div",{className:"absolute bottom-6 left-6 bg-white p-4 rounded-xl shadow-lg z-[1000] max-w-xs",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-900",children:"Explore Nearby"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Showing ",s.length," active listings across regions. Click on pins to see details."]})]})]})]})}e.s(["default",()=>u])},60518,e=>{e.v(r=>Promise.all(["static/chunks/45decc78755e1298.js","static/chunks/076efda0d0cae75b.css"].map(r=>e.l(r))).then(()=>r(81042)))}]);